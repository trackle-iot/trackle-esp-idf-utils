<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Trackle Utils for ESP-IDF: trackle_utils_bt_functions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Trackle Utils for ESP-IDF
   </div>
   <div id="projectbrief">Utilities for firmware that connects to Trackle on ESP32 devices with ESP-IDF.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">trackle_utils_bt_functions.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for working with bluetooth functions. Read the full description to learn about BT functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;esp_err.h&gt;</code><br />
<code>#include &lt;defines.h&gt;</code><br />
</div>
<p><a href="trackle__utils__bt__functions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb468bd3ad26641f9072d671e309f5a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#acb468bd3ad26641f9072d671e309f5a9">Trackle_BtPost_add</a> (const char *name, int(*function)(const char *))</td></tr>
<tr class="memdesc:acb468bd3ad26641f9072d671e309f5a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a POST function callable during BLE provisioning (using Espressif's how provisioning mechanism).  <a href="trackle__utils__bt__functions_8h.html#acb468bd3ad26641f9072d671e309f5a9">More...</a><br /></td></tr>
<tr class="separator:acb468bd3ad26641f9072d671e309f5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#aeaa8cb33e84d21f66d2336cb39826ab0">Trackle_BtGet_add</a> (const char *name, void *(*function)(const char *), Data_TypeDef dataType)</td></tr>
<tr class="memdesc:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a GET function callable during BLE provisioning (using Espressif's how provisioning mechanism).  <a href="trackle__utils__bt__functions_8h.html#aeaa8cb33e84d21f66d2336cb39826ab0">More...</a><br /></td></tr>
<tr class="separator:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for working with bluetooth functions. Read the full description to learn about BT functions. </p>
<p>While performing WiFi provisioning via Espressif's own mechanism, it is possible to provide the client (app, PC, etc.) the ability to invoke special functions on the ESP32 target.</p>
<p>Please, note that such functions can be called only during provisioning.</p>
<p>There are two kinds of functions:</p><ul>
<li>GET functions;</li>
<li>POST functions.</li>
</ul>
<p>GET functions can be used to retrieve data from the target (available datatypes are int, long, string, JSON, boolean, char, double).</p>
<p>POST functions are meant to be used to send data to the target.</p>
<p>Both kinds of functions are designed to be compatible with GETs and POSTs used with the Trackle cloud platform. So the same functions can be made accessible also during provisioning via Bluetooth. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aeaa8cb33e84d21f66d2336cb39826ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa8cb33e84d21f66d2336cb39826ab0">&#9670;&nbsp;</a></span>Trackle_BtGet_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trackle_BtGet_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(const char *)&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Data_TypeDef&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a GET function callable during BLE provisioning (using Espressif's how provisioning mechanism). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name that the client will use to call the function. The name must be unique between BLE POSTs and BLE GETs. </td></tr>
    <tr><td class="paramname">function</td><td>Function to call, in the same format and with the same semantics of a Trackle cloud GET. </td></tr>
    <tr><td class="paramname">dataType</td><td>One of VAR_INT, VAR_LONG, VAR_JSON, VAR_STRING, VAR_BOOLEAN, VAR_CHAR, VAR_DOUBLE. This tells the type of the variable pointed to by the pointer returned by function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true The function was added successfully to GET BLE functions. </dd>
<dd>
false There was and error in adding the function to GET BLE functions. </dd></dl>

</div>
</div>
<a id="acb468bd3ad26641f9072d671e309f5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb468bd3ad26641f9072d671e309f5a9">&#9670;&nbsp;</a></span>Trackle_BtPost_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trackle_BtPost_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *)&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a POST function callable during BLE provisioning (using Espressif's how provisioning mechanism). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name that the client will use to call the function. The name must be unique between BLE POSTs and BLE GETs. </td></tr>
    <tr><td class="paramname">function</td><td>Function to call, in the same format and with the same semantics of a Trackle cloud POST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true The function was added successfully to POST BLE functions. </dd>
<dd>
false There was and error in adding the function to POST BLE functions. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
