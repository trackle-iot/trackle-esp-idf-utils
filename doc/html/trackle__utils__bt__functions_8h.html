<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Trackle Utils: trackle_utils_bt_functions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_k.e323666f.png"/></td>
  <td id="projectalign">
   <div id="projectname">Trackle Utils
   </div>
   <div id="projectbrief">Utilities for the development of firmware that connects to the Trackle platform.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">trackle_utils_bt_functions.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Functions for working with bluetooth functions. Read the full description to learn about BT functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;esp_err.h&gt;</code><br />
<code>#include &lt;defines.h&gt;</code><br />
</div>
<p><a href="trackle__utils__bt__functions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa736529397ca6644d343dadb80f974af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#aa736529397ca6644d343dadb80f974af">MAX_BT_POST_NAME_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:aa736529397ca6644d343dadb80f974af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694c5a11cc3a9d692a49fcddfddda247"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#a694c5a11cc3a9d692a49fcddfddda247">MAX_BT_POSTS_NUM</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a694c5a11cc3a9d692a49fcddfddda247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69ac27f63c73ea8b7a23f9ac5f0b21e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#af69ac27f63c73ea8b7a23f9ac5f0b21e">MAX_BT_GET_NAME_LEN</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:af69ac27f63c73ea8b7a23f9ac5f0b21e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd09d973988f95fe9a6a5c69e7c1f85a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#afd09d973988f95fe9a6a5c69e7c1f85a">MAX_BT_GETS_NUM</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:afd09d973988f95fe9a6a5c69e7c1f85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb468bd3ad26641f9072d671e309f5a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#acb468bd3ad26641f9072d671e309f5a9">Trackle_BtPost_add</a> (const char *name, int(*function)(const char *))</td></tr>
<tr class="memdesc:acb468bd3ad26641f9072d671e309f5a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a POST function callable during BLE provisioning (using Espressif's how provisioning mechanism).  <a href="trackle__utils__bt__functions_8h.html#acb468bd3ad26641f9072d671e309f5a9">More...</a><br /></td></tr>
<tr class="separator:acb468bd3ad26641f9072d671e309f5a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#aeaa8cb33e84d21f66d2336cb39826ab0">Trackle_BtGet_add</a> (const char *name, void *(*function)(const char *), Data_TypeDef dataType)</td></tr>
<tr class="memdesc:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a GET function callable during BLE provisioning (using Espressif's how provisioning mechanism).  <a href="trackle__utils__bt__functions_8h.html#aeaa8cb33e84d21f66d2336cb39826ab0">More...</a><br /></td></tr>
<tr class="separator:aeaa8cb33e84d21f66d2336cb39826ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faf9bcc20248123159522c676d8fbc3"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#a8faf9bcc20248123159522c676d8fbc3">btFunctionsEndpointsCreate</a> ()</td></tr>
<tr class="memdesc:a8faf9bcc20248123159522c676d8fbc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">ONLY FOR INTERNAL USAGE. DON'T CALL IN APPLICATION CODE!  <a href="trackle__utils__bt__functions_8h.html#a8faf9bcc20248123159522c676d8fbc3">More...</a><br /></td></tr>
<tr class="separator:a8faf9bcc20248123159522c676d8fbc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4625feaca2e20f96816b7e278b9cf26f"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trackle__utils__bt__functions_8h.html#a4625feaca2e20f96816b7e278b9cf26f">btFunctionsEndpointsRegister</a> ()</td></tr>
<tr class="memdesc:a4625feaca2e20f96816b7e278b9cf26f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ONLY FOR INTERNAL USAGE. DON'T CALL IN APPLICATION CODE!  <a href="trackle__utils__bt__functions_8h.html#a4625feaca2e20f96816b7e278b9cf26f">More...</a><br /></td></tr>
<tr class="separator:a4625feaca2e20f96816b7e278b9cf26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Functions for working with bluetooth functions. Read the full description to learn about BT functions. </p>
<p >While performing WiFi provisioning via Espressif's own mechanism, it is possible to provide the client (app, PC, etc.) the ability to invoke special functions on the ESP32 target.</p>
<p >Please, note that such functions can be called only during provisioning.</p>
<p >There are two kinds of functions:</p><ul>
<li>GET functions;</li>
<li>POST functions.</li>
</ul>
<p >GET functions can be used to retrieve data from the target (available datatypes are int, long, string, JSON, boolean, char, double).</p>
<p >POST functions are meant to be used to send data to the target.</p>
<p >Both kinds of functions are designed to be compatible with GETs and POSTs used with the Trackle cloud platform. So the same functions can be made accessible also during provisioning via Bluetooth. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af69ac27f63c73ea8b7a23f9ac5f0b21e" name="af69ac27f63c73ea8b7a23f9ac5f0b21e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69ac27f63c73ea8b7a23f9ac5f0b21e">&#9670;&#160;</a></span>MAX_BT_GET_NAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BT_GET_NAME_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afd09d973988f95fe9a6a5c69e7c1f85a" name="afd09d973988f95fe9a6a5c69e7c1f85a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd09d973988f95fe9a6a5c69e7c1f85a">&#9670;&#160;</a></span>MAX_BT_GETS_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BT_GETS_NUM&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa736529397ca6644d343dadb80f974af" name="aa736529397ca6644d343dadb80f974af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa736529397ca6644d343dadb80f974af">&#9670;&#160;</a></span>MAX_BT_POST_NAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BT_POST_NAME_LEN&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a694c5a11cc3a9d692a49fcddfddda247" name="a694c5a11cc3a9d692a49fcddfddda247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694c5a11cc3a9d692a49fcddfddda247">&#9670;&#160;</a></span>MAX_BT_POSTS_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BT_POSTS_NUM&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8faf9bcc20248123159522c676d8fbc3" name="a8faf9bcc20248123159522c676d8fbc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faf9bcc20248123159522c676d8fbc3">&#9670;&#160;</a></span>btFunctionsEndpointsCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t btFunctionsEndpointsCreate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ONLY FOR INTERNAL USAGE. DON'T CALL IN APPLICATION CODE! </p>

</div>
</div>
<a id="a4625feaca2e20f96816b7e278b9cf26f" name="a4625feaca2e20f96816b7e278b9cf26f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4625feaca2e20f96816b7e278b9cf26f">&#9670;&#160;</a></span>btFunctionsEndpointsRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t btFunctionsEndpointsRegister </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ONLY FOR INTERNAL USAGE. DON'T CALL IN APPLICATION CODE! </p>

</div>
</div>
<a id="aeaa8cb33e84d21f66d2336cb39826ab0" name="aeaa8cb33e84d21f66d2336cb39826ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa8cb33e84d21f66d2336cb39826ab0">&#9670;&#160;</a></span>Trackle_BtGet_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trackle_BtGet_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *(*)(const char *)&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Data_TypeDef&#160;</td>
          <td class="paramname"><em>dataType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a GET function callable during BLE provisioning (using Espressif's how provisioning mechanism). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name that the client will use to call the function. The name must be unique between BLE POSTs and BLE GETs. </td></tr>
    <tr><td class="paramname">function</td><td>Function to call, in the same format and with the same semantics of a Trackle cloud GET. </td></tr>
    <tr><td class="paramname">dataType</td><td>One of VAR_INT, VAR_LONG, VAR_JSON, VAR_STRING, VAR_BOOLEAN, VAR_CHAR, VAR_DOUBLE. This tells the type of the variable pointed to by the pointer returned by function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true The function was added successfully to GET BLE functions. </dd>
<dd>
false There was and error in adding the function to GET BLE functions. </dd></dl>

</div>
</div>
<a id="acb468bd3ad26641f9072d671e309f5a9" name="acb468bd3ad26641f9072d671e309f5a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb468bd3ad26641f9072d671e309f5a9">&#9670;&#160;</a></span>Trackle_BtPost_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Trackle_BtPost_add </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(const char *)&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a POST function callable during BLE provisioning (using Espressif's how provisioning mechanism). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name that the client will use to call the function. The name must be unique between BLE POSTs and BLE GETs. </td></tr>
    <tr><td class="paramname">function</td><td>Function to call, in the same format and with the same semantics of a Trackle cloud POST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true The function was added successfully to POST BLE functions. </dd>
<dd>
false There was and error in adding the function to POST BLE functions. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
